<html xmlns:th="http://www.thymeleaf.org" lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Login</title>
</head>
<body>
    <div class="main">
        <h1>Space</h1>
        <h3>Login</h3>
        <form action="/login" enctype="application/x-www-form-urlencoded" method="post">
            <label for="username">Username:</label>
            <input type="text" name="username" id="username">
            <label for="password">Password:</label>
            <input type="password" name="password" id="password">
            <label>
                <input type="text" name="fromui" class="fromui" value="1" style="display: none">
            </label>
            <div id="error" style="display: none">
                <h3 id="errorText"></h3>
            </div>
            <input type="submit" value="Login">
        </form>
    </div>

    <script type="text/javascript">
        window.onload = function() {
            let errorMsg = findGetParameter("error")
            if (errorMsg) {
                document.getElementById("error").style.display = ""
                document.getElementById("errorText").innerText = errorMsg
            }
        };

        function findGetParameter(parameterName) {
            let result = null
            let tmp = [];
            location.search
                .substr(1)
                .split("&")
                .forEach(function (item) {
                    tmp = item.split("=");
                    if (tmp[0] === parameterName) result = decodeURIComponent(tmp[1]);
                });
            return result;
        }

    </script>
</body>
</html>